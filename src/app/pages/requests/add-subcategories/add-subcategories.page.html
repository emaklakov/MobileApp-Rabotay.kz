<ion-header>
	<ion-toolbar color="success">
		<ion-buttons slot="start">
			<ion-back-button defaultHref="/requests/add"></ion-back-button>
		</ion-buttons>
		<ion-title>
			<strong>{{ subcategoriesTitle }}</strong>
		</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content color="light">
	<div *ngIf="isErrorLoad && !isLoad" class="mt-5">
		<ion-row class="ion-justify-content-center mt-5">
			<ion-col size="12" class="ion-text-center ion-padding-horizontal">
				<ion-icon name="wifi" color="medium" class="icon-8x"></ion-icon>
				<div>
					<h4 class="mt-0 mb-0">Интернет недоступен</h4>
				</div>
				<div class="ion-text-center ion-padding-horizontal text-medium">
					<p>Для работы приложения необходим доступ к сети</p>
				</div>
				<ion-button (click)="updateLoad()" expand="block" size="large" class="mt-3 shadow-md">Обновить
				</ion-button>
			</ion-col>
		</ion-row>
	</div>
	<ion-list lines="full" class="mb-5 pb-0" *ngIf="isLoad && !isErrorLoad">
		<ion-list-header>
			<ion-label><ion-skeleton-text animated style="width: 150px"></ion-skeleton-text></ion-label>
		</ion-list-header>
		<ion-item *ngFor='let category of [1,2,3,4,5,6,7,8,9,10]'  detail>
			<ion-avatar slot="start">
				<ion-skeleton-text animated></ion-skeleton-text>
			</ion-avatar>
			<ion-label><ion-skeleton-text animated style="width: 170px"></ion-skeleton-text></ion-label>
		</ion-item>
	</ion-list>
	<ion-list lines="full" class="mb-5 pb-0" *ngIf="!isLoad && !isErrorLoad">
		<ion-item *ngFor='let category of categories' [routerLink]="['/requests/add-info/'+category.id]" detail>
			<ion-avatar slot="start">
				<img [src]="category.icon">
			</ion-avatar>
			<ion-label class="ion-text-wrap">
				<h3>
					{{ category.name }}
					<small *ngIf="category.description && category.description != ''" class="text-medium block">{{ category.description }}</small>
				</h3>
			</ion-label>
		</ion-item>
	</ion-list>
</ion-content>
